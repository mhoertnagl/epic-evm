--------------------------------------------------------------------------------
 REGISTERS
--------------------------------------------------------------------------------

----+---------------------------------------------------------------------------
R00 | ZERO - Always zero?
R01 |
R02 |
R03 |
R04 |
R05 |
R06 |
R07 |
R08 |
R09 |
R10 |
R11 |
R12 | FP
R13 | SP
R14 | RP
R15 | IP (Instruction Pointer)

================================================================================
 SPECIAL CPU REGISTERS
================================================================================

In KERNEL MODE the following two operations allow to read and write special CPU
registers.

      ssr cir r0 
      lsr r0 cir

--------------------------------------------------------------------------------
 CPU INFO REGISTER - CIR
--------------------------------------------------------------------------------

The CPU INFO REGISTER (CIR) contains information about the version of the CPU.

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | CPU MODEL     | CPU MAJOR REVISION     | CPU MINOR REVISION    |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
                                                                       |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+

The CPU MODEL field describes the overall architectural model. For the first 
release named EPIC-0 rev. 1.0, this is going to be a three-stage pipelined CPU. 
   CPU MAJOR REVISION and CPU MINOR REVISION contain the version of the CPU 
revision. A change in major revision reflects a breaking change and may cause 
some legacy application code to display unexpected behavior. A change in minor
revision however indicates additions and improvements to the design without
corrupting the backwards compatibility of the CPU. 
   Bug-fixes may or may not introduce breaking changes and will therefore either
trigger major or minor revisions.

For EPIC-0 rev. 1.0 the register will be set to:

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 0   0   0   0 | 0   0   0   0    0   1 | 0   0   0   0   0   0 |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
        ?                                                              |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+

Only code with KERNEL MODE privileges can access this register.


Initialization
--------------------------------------------------------------------------------

The following listing shows the relevant portion of the CPU initialization 
routine that sets the CPU INFO REGISTER with the appropriate version info:

      let CPU_MODEL          = 0
      let CPU_MAJOR_REVISION = 1
      let CPU_MINOR_REVISION = 0

      // xor r0  r0                    // Clear r0. 
      clr r0                       // Clear r0. Pseudo instr.: xor r0  r0   
      oor r0  CPU_MODEL            // Fill r0 with CPU version info.
      sll r0  6
      oor r0  CPU_MAJOR_REVISION
      sll r0  6
      oor r0  CPU_MINOR_REVISION
      sll r0  16
      ssr cir r0                   // Save CPU version info to CIR register.
      
The routine is stored in the CPU bootstrap ROM.


--------------------------------------------------------------------------------
 CPU STATE REGISTER - CSR
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      |           | COND      | 
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
                                                           | MODE      |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+

      MODE  |
     -------+----------------
      0 0 0 | Kernel MODE
     -------+----------------
      0 0 1 | Exception MODE
     -------+----------------
      0 1 0 | User MODE



      COND  |
     -------+-----------------------------------------------------------
      0 0 0 | 
     -------+-----------------------------------------------------------
      0 0 1 | 
     -------+-----------------------------------------------------------
      0 1 0 | 
     -------+-----------------------------------------------------------
      0 1 1 | 
     -------+-----------------------------------------------------------
      1 0 0 | 
     -------+-----------------------------------------------------------
      1 0 1 | 
     -------+-----------------------------------------------------------
      1 1 0 | 
     -------+-----------------------------------------------------------
      1 1 1 | 

--------------------------------------------------------------------------------
 DATA PROCESSING OPERATIONS - ADD
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 0 | 0 | 0 | COND      | S | 0 || RD            | RA            |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | RB            | 0   0   0   0    0   0   0   0 | 0   0   0   0 |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
  
      REG[RD] = REG[RA] + REG[RB]
      
       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 0 | 0 | 0 | COND      | S | 1 || RD            | RA            |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+      
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | IMM12                                          | 0   0   0   0 |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+      

--------------------------------------------------------------------------------
 DATA PROCESSING OPERATIONS - REGISTER
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 0 | 0 | 0 | COND      | S | 0 || RD            | RA            |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | RB            | 0   0   0   0    0   0   0   0 | ALU           |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+

Note, that bits 11-4 are reserved for future enhancements and are expected to be
all zeros to guarantee compatibility with upcoming ISA releases.

--------------------------------------------------------------------------------
 DATA PROCESSING OPERATIONS - 12bit IMMEDIATE
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 0 | 0 | 0 | COND      | S | 1 || RD            | RA            |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | IMM12                                          | ALU           |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+


--------------------------------------------------------------------------------
 DATA PROCESSING OPERATIONS - 16bit IMMEDIATE
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 0 | 0 | 1 | COND      | S | 1 || RD            | IMM16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
                                                       | ALU           |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+


--------------------------------------------------------------------------------
 MEMORY - REGISTER
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 0 | 1 | 0 | COND      | S | 0 || RD            | RA            |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | RB            | 0   0   0   0    0   0   0   0 | 0   0   0 | L |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+

Note, that bits 11-1 are reserved for future enhancements and are expected to be
all zeros to guarantee compatibility with upcoming ISA releases.


--------------------------------------------------------------------------------
 MEMORY - 12bit IMMEDIATE
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 0 | 1 | 0 | COND      | S | 1 || RD            | RA            |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | IMM12                                          | 0   0   0 | L |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+

Note, that bits 3-1 are reserved for future enhancements and are expected to be
all zeros to guarantee compatibility with upcoming ISA releases.


--------------------------------------------------------------------------------
 CO-PROCESSOR
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 0 | 1 | 1 | COND      | CPID  ||
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
                                                                       |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+


--------------------------------------------------------------------------------
 SYSCALL
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 1 | 0 | 0 | COND      | IMM26
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
                                                                       |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+


--------------------------------------------------------------------------------
 -
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 1 | 0 | 1 | COND      | 
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
                                                                       |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+


--------------------------------------------------------------------------------
 -
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 1 | 1 | 0 | COND      | 
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
                                                                       |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
            

--------------------------------------------------------------------------------
 BRANCH
--------------------------------------------------------------------------------

       31  30  29  28  27  26  25  24    23  22  21  20  19  18  17  16
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
      | 1 | 1 | 1 | COND      | L | IMM25
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
       15  14  13  12  11  10  09  08    07  06  05  04  03  02  01  00
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
                                                                       |
      +---+---+---+---+---+---+---+---++---+---+---+---+---+---+---+---+
